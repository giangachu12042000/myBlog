{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\blog_client\\\\app\\\\admin\\\\comments\\\\index.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { withRouter } from 'next/router';\nimport axios from '../../utils';\nimport ModalV from '../components/modal';\nimport CommentAdd from './commentAdd';\nimport CommentV from './commentV';\n\nclass Comment extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      modal: false,\n      comments: [],\n      comment: null,\n      modleShow: false,\n      handleGetId: null,\n      modal: false\n    };\n    this.handleModal = this.handleModal.bind(this);\n    this.fetchComment = this.fetchComment.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.deleteConfirm = this.deleteConfirm.bind(this);\n    this.handleRemove = this.handleRemove.bind(this);\n    this.handleModal = this.handleModal.bind(this);\n    this.handleReply = this.handleReply.bind(this);\n  }\n\n  handleModal(param) {\n    let {\n      modal\n    } = this.state;\n    modal = param;\n    this.setState({\n      modal\n    });\n  }\n\n  fetchComment() {\n    let {\n      comments\n    } = this.state;\n    axios.get('/comment').then(res => {\n      const {\n        data\n      } = res.data;\n      comments = data;\n      this.setState({\n        comments\n      }); // console.log(comments,'=============>fetch cmo')\n    });\n  }\n\n  deleteConfirm(param) {\n    let {\n      modleShow\n    } = this.state;\n    modleShow = param;\n    this.setState({\n      modleShow\n    });\n  }\n\n  handleDelete(param) {\n    let {\n      handleGetId\n    } = this.state;\n    handleGetId = param;\n    this.setState({\n      handleGetId\n    });\n  }\n\n  handleRemove(param) {\n    const id = param;\n    this.deleteConfirm(true);\n\n    try {\n      axios.delete(`/comment/delete/${id}`).then(res => {\n        if (res.data) {\n          this.fetchComment();\n        }\n      });\n    } catch (err) {\n      throw err;\n    }\n  }\n\n  handleModal(param) {\n    let {\n      modal\n    } = this.state;\n    modal = param;\n    this.setState({\n      modal\n    });\n  }\n\n  handleReply(param) {\n    let {\n      comment\n    } = this.state;\n    comment = param;\n    this.setState({\n      comment\n    });\n  }\n\n  componentDidMount() {\n    this.fetchComment();\n  }\n\n  render() {\n    const {\n      modal,\n      comments,\n      modleShow,\n      handleGetId\n    } = this.state;\n    return __jsx(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      className: \"col-md-12 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, __jsx(\"button\", {\n      type: \"button\",\n      onClick: () => {\n        this.handleModal(true);\n      },\n      className: \"btn btn-primary col-md-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    }, \"them\")), __jsx(CommentV, {\n      comments: comments,\n      deleteConfirm: this.deleteConfirm,\n      handleDelete: this.handleDelete,\n      handleModal: this.handleModal,\n      handleReply: this.handleReply,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }), __jsx(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }, modal ? __jsx(CommentAdd, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }\n    }) : ''), __jsx(ModalV, {\n      modleShow: modleShow,\n      handleRemove: this.handleRemove,\n      handleGetId: handleGetId,\n      deleteConfirm: this.deleteConfirm,\n      handleModal: this.handleModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default withRouter(Comment);","map":{"version":3,"sources":["C:/Users/Admin/Desktop/blog_client/app/admin/comments/index.js"],"names":["React","withRouter","axios","ModalV","CommentAdd","CommentV","Comment","Component","constructor","props","state","modal","comments","comment","modleShow","handleGetId","handleModal","bind","fetchComment","handleDelete","deleteConfirm","handleRemove","handleReply","param","setState","get","then","res","data","id","delete","err","componentDidMount","render"],"mappings":";;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,UAAR,QAAyB,aAAzB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,QAAP,MAAqB,YAArB;;AAEA,MAAMC,OAAN,SAAsBN,KAAK,CAACO,SAA5B,CAAqC;AACjCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAc;AACVC,MAAAA,KAAK,EAAC,KADI;AAEVC,MAAAA,QAAQ,EAAG,EAFD;AAGVC,MAAAA,OAAO,EAAE,IAHC;AAIVC,MAAAA,SAAS,EAAC,KAJA;AAKVC,MAAAA,WAAW,EAAE,IALH;AAMVJ,MAAAA,KAAK,EAAE;AANG,KAAd;AAQA,SAAKK,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKE,YAAL,GAAoB,KAAKA,YAAL,CAAkBF,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKG,aAAL,GAAqB,KAAKA,aAAL,CAAmBH,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKI,YAAL,GAAoB,KAAKA,YAAL,CAAkBJ,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKD,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKK,WAAL,GAAmB,KAAKA,WAAL,CAAiBL,IAAjB,CAAsB,IAAtB,CAAnB;AACH;;AAEDD,EAAAA,WAAW,CAACO,KAAD,EAAO;AACd,QAAI;AAACZ,MAAAA;AAAD,QAAU,KAAKD,KAAnB;AACAC,IAAAA,KAAK,GAAGY,KAAR;AACA,SAAKC,QAAL,CAAc;AAACb,MAAAA;AAAD,KAAd;AACH;;AACDO,EAAAA,YAAY,GAAE;AACV,QAAI;AAACN,MAAAA;AAAD,QAAa,KAAKF,KAAtB;AACAR,IAAAA,KAAK,CAACuB,GAAN,CAAU,UAAV,EACCC,IADD,CACMC,GAAG,IAAG;AACR,YAAM;AAACC,QAAAA;AAAD,UAASD,GAAG,CAACC,IAAnB;AACAhB,MAAAA,QAAQ,GAAGgB,IAAX;AACA,WAAKJ,QAAL,CAAc;AAACZ,QAAAA;AAAD,OAAd,EAHQ,CAIR;AACH,KAND;AAOH;;AACDQ,EAAAA,aAAa,CAACG,KAAD,EAAO;AAChB,QAAI;AAACT,MAAAA;AAAD,QAAc,KAAKJ,KAAvB;AACAI,IAAAA,SAAS,GAAGS,KAAZ;AACA,SAAKC,QAAL,CAAc;AAACV,MAAAA;AAAD,KAAd;AAEH;;AACDK,EAAAA,YAAY,CAACI,KAAD,EAAO;AACf,QAAI;AAACR,MAAAA;AAAD,QAAgB,KAAKL,KAAzB;AACAK,IAAAA,WAAW,GAAGQ,KAAd;AACA,SAAKC,QAAL,CAAc;AAACT,MAAAA;AAAD,KAAd;AACH;;AACDM,EAAAA,YAAY,CAACE,KAAD,EAAO;AACf,UAAMM,EAAE,GAAGN,KAAX;AACA,SAAKH,aAAL,CAAmB,IAAnB;;AACA,QAAG;AACClB,MAAAA,KAAK,CAAC4B,MAAN,CAAc,mBAAkBD,EAAG,EAAnC,EACEH,IADF,CACOC,GAAG,IAAI;AACV,YAAGA,GAAG,CAACC,IAAP,EAAY;AACR,eAAKV,YAAL;AACH;AACH,OALF;AAMF,KAPF,CAOE,OAAMa,GAAN,EAAU;AACP,YAAMA,GAAN;AACH;AACL;;AACDf,EAAAA,WAAW,CAACO,KAAD,EAAO;AACd,QAAI;AAACZ,MAAAA;AAAD,QAAU,KAAKD,KAAnB;AACAC,IAAAA,KAAK,GAAGY,KAAR;AACA,SAAKC,QAAL,CAAc;AAACb,MAAAA;AAAD,KAAd;AACH;;AACDW,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,QAAI;AAACV,MAAAA;AAAD,QAAY,KAAKH,KAArB;AACAG,IAAAA,OAAO,GAAGU,KAAV;AACA,SAAKC,QAAL,CAAc;AAACX,MAAAA;AAAD,KAAd;AACH;;AACDmB,EAAAA,iBAAiB,GAAE;AACf,SAAKd,YAAL;AACH;;AACDe,EAAAA,MAAM,GAAE;AACJ,UAAM;AAACtB,MAAAA,KAAD;AAAQC,MAAAA,QAAR;AAAkBE,MAAAA,SAAlB;AAA6BC,MAAAA;AAA7B,QAA4C,KAAKL,KAAvD;AACA,WACI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,OAAO,EAAE,MAAI;AAAC,aAAKM,WAAL,CAAiB,IAAjB;AAAwB,OAA5D;AAA8D,MAAA,SAAS,EAAC,0BAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,CADJ,EAII,MAAC,QAAD;AACI,MAAA,QAAQ,EAAIJ,QADhB;AAC0B,MAAA,aAAa,EAAG,KAAKQ,aAD/C;AAEI,MAAA,YAAY,EAAE,KAAKD,YAFvB;AAEqC,MAAA,WAAW,EAAI,KAAKH,WAFzD;AAGI,MAAA,WAAW,EAAI,KAAKM,WAHxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,EASI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACMX,KAAK,GACP,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADO,GACU,EAFrB,CATJ,EAcI,MAAC,MAAD;AACI,MAAA,SAAS,EAAEG,SADf;AAC0B,MAAA,YAAY,EAAG,KAAKO,YAD9C;AAEI,MAAA,WAAW,EAAEN,WAFjB;AAE8B,MAAA,aAAa,EAAG,KAAKK,aAFnD;AAGI,MAAA,WAAW,EAAI,KAAKJ,WAHxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdJ,CADJ;AAsBH;;AAjGgC;;AAmGrC,eAAef,UAAU,CAACK,OAAD,CAAzB","sourcesContent":["\r\n \r\nimport React from 'react';\r\nimport {withRouter} from 'next/router';\r\nimport axios from '../../utils'; \r\nimport ModalV from '../components/modal';\r\nimport CommentAdd from './commentAdd';\r\nimport CommentV from './commentV';\r\n\r\nclass Comment extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state =  {\r\n            modal:false,\r\n            comments : [],\r\n            comment: null,\r\n            modleShow:false,\r\n            handleGetId: null,\r\n            modal: false\r\n        }\r\n        this.handleModal = this.handleModal.bind(this);\r\n        this.fetchComment = this.fetchComment.bind(this);\r\n        this.handleDelete = this.handleDelete.bind(this);\r\n        this.deleteConfirm = this.deleteConfirm.bind(this);\r\n        this.handleRemove = this.handleRemove.bind(this);\r\n        this.handleModal = this.handleModal.bind(this);\r\n        this.handleReply = this.handleReply.bind(this)\r\n    }\r\n\r\n    handleModal(param){\r\n        let {modal} = this.state;\r\n        modal = param;\r\n        this.setState({modal});\r\n    }\r\n    fetchComment(){\r\n        let {comments} = this.state;\r\n        axios.get('/comment')\r\n        .then(res =>{\r\n            const {data} = res.data;\r\n            comments = data;\r\n            this.setState({comments});\r\n            // console.log(comments,'=============>fetch cmo')\r\n        })\r\n    }\r\n    deleteConfirm(param){\r\n        let {modleShow} = this.state;\r\n        modleShow = param; \r\n        this.setState({modleShow});\r\n         \r\n    }\r\n    handleDelete(param){\r\n        let {handleGetId} = this.state;\r\n        handleGetId = param;\r\n        this.setState({handleGetId});\r\n    }\r\n    handleRemove(param){\r\n        const id = param; \r\n        this.deleteConfirm(true); \r\n        try{\r\n            axios.delete(`/comment/delete/${id}`)\r\n             .then(res => {\r\n                if(res.data){\r\n                    this.fetchComment();\r\n                }\r\n             })\r\n         }catch(err){ \r\n             throw err \r\n         }\r\n    }\r\n    handleModal(param){\r\n        let {modal} = this.state;\r\n        modal = param;\r\n        this.setState({modal});\r\n    }\r\n    handleReply(param){\r\n        let {comment} = this.state;\r\n        comment = param;\r\n        this.setState({comment});\r\n    }\r\n    componentDidMount(){ \r\n        this.fetchComment()\r\n    }\r\n    render(){ \r\n        const {modal, comments, modleShow, handleGetId} = this.state;\r\n        return(\r\n            <div className=\"row\"> \r\n                <div className=\"col-md-12 text-right\">\r\n                    <button type=\"button\" onClick={()=>{this.handleModal(true) }} className=\"btn btn-primary col-md-1\">them</button>\r\n                </div> \r\n                <CommentV\r\n                    comments = {comments} deleteConfirm ={this.deleteConfirm}\r\n                    handleDelete={this.handleDelete} handleModal = {this.handleModal}\r\n                    handleReply = {this.handleReply}\r\n                /> \r\n                <div className=\"col-md-12\">\r\n                    { modal ?\r\n                    <CommentAdd /> : ''\r\n                    }\r\n                </div>\r\n                <ModalV \r\n                    modleShow={modleShow} handleRemove ={this.handleRemove}\r\n                    handleGetId={handleGetId} deleteConfirm ={this.deleteConfirm}\r\n                    handleModal = {this.handleModal}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n} \r\nexport default withRouter(Comment)"]},"metadata":{},"sourceType":"module"}