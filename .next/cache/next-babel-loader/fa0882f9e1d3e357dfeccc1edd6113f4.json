{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\blog_client\\\\app\\\\admin\\\\auth\\\\loginPage.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport { withRouter } from 'next/router';\nimport axios from '../../utils';\nimport Auth from '../../localStorege';\nimport ModalV from '../components/modal';\n\nvar LoginPage = /*#__PURE__*/function (_React$Component) {\n  _inherits(LoginPage, _React$Component);\n\n  var _super = _createSuper(LoginPage);\n\n  function LoginPage(props) {\n    var _this;\n\n    _classCallCheck(this, LoginPage);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      form: {},\n      sucess: null,\n      showSucess: false\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    _this.opentSuccess = _this.opentSuccess.bind(_assertThisInitialized(_this));\n    _this.handleSucces = _this.handleSucces.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(LoginPage, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      var form = this.state.form;\n      var value = event.target.value;\n      var name = event.target.name;\n      form[name] = value;\n      this.setState({\n        form: form\n      });\n    }\n  }, {\n    key: \"handleSucces\",\n    value: function handleSucces(param) {\n      var _this2 = this;\n\n      var showSucess = this.state.showSucess;\n      showSucess = param;\n      this.setState({\n        showSucess: showSucess\n      });\n      var close = false;\n      setTimeout(function () {\n        showSucess = close;\n\n        _this2.setState({\n          showSucess: showSucess\n        });\n      }, 4000);\n    }\n  }, {\n    key: \"opentSuccess\",\n    value: function opentSuccess(param) {\n      var sucess = this.state.sucess;\n      sucess = param;\n      this.setState({\n        sucess: sucess\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this3 = this;\n\n      event.preventDefault();\n      var form = this.state.form;\n\n      try {\n        axios.post(\"/api/login\", form).then(function (res) {\n          if (res.data) {\n            var token = res.data;\n\n            if (token.code == 1) {\n              Auth.authenticateUser(token.data);\n\n              _this3.opentSuccess(token.message);\n\n              _this3.handleSucces(true);\n            } else {\n              _this3.opentSuccess(token.message);\n\n              _this3.handleSucces(true);\n            }\n          }\n        });\n      } catch (err) {\n        throw err;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          sucess = _this$state.sucess,\n          showSucess = _this$state.showSucess;\n      return __jsx(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }\n      }, __jsx(\"div\", {\n        className: \"col-md-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }\n      }, __jsx(ModalV, {\n        showSucess: showSucess,\n        handleSucces: this.handleSucces,\n        sucess: sucess,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }\n      }), __jsx(\"form\", {\n        method: \"post\",\n        encType: \"multipart/form-data\",\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 18\n        }\n      }, __jsx(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }\n      }, __jsx(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }\n      }, \"Email \"), __jsx(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        className: \"form-control\",\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }\n      })), __jsx(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }\n      }, __jsx(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 25\n        }\n      }, \"Password \"), __jsx(\"input\", {\n        name: \"password\",\n        type: \"text\",\n        onChange: this.handleChange,\n        className: \"form-control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 25\n        }\n      })), __jsx(\"div\", {\n        className: \"btn-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }\n      }, __jsx(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }\n      }, \"\\u0110\\u0103ng nh\\u1EADp\")))));\n    }\n  }]);\n\n  return LoginPage;\n}(React.Component);\n\nexport default withRouter(LoginPage);","map":{"version":3,"sources":["C:/Users/Admin/Desktop/blog_client/app/admin/auth/loginPage.js"],"names":["React","withRouter","axios","Auth","ModalV","LoginPage","props","state","form","sucess","showSucess","handleChange","bind","handleSubmit","opentSuccess","handleSucces","event","value","target","name","setState","param","close","setTimeout","preventDefault","post","then","res","data","token","code","authenticateUser","message","err","Component"],"mappings":"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","sourcesContent":["\r\nimport React from 'react';\r\nimport {withRouter} from 'next/router';\r\nimport axios from '../../utils';\r\nimport Auth from '../../localStorege';\r\nimport ModalV from '../components/modal';\r\nclass LoginPage extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {form:{},sucess:null ,showSucess:false};\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.opentSuccess = this.opentSuccess.bind(this);\r\n        this.handleSucces = this.handleSucces.bind(this); \r\n    }\r\n    handleChange(event){\r\n        let {form} = this.state;\r\n        const value = event.target.value;\r\n        const name = event.target.name;\r\n        form[name] = value; \r\n        this.setState({form}); \r\n    } \r\n    handleSucces(param){\r\n        let {showSucess} = this.state;\r\n        showSucess = param;\r\n        this.setState({showSucess}); \r\n        let close = false;\r\n        setTimeout(()=>{\r\n            showSucess = close;\r\n            this.setState({showSucess});\r\n        },4000);\r\n    } \r\n    opentSuccess(param){\r\n        let {sucess} = this.state;\r\n        sucess = param;\r\n        this.setState({sucess}); \r\n    }\r\n    handleSubmit(event){\r\n        event.preventDefault();\r\n        const {form} = this.state;\r\n        try{  \r\n            axios.post(\"/api/login\",form)\r\n            .then(res=>{\r\n                if(res.data){\r\n                    const token = res.data ;\r\n                    if(token.code == 1){\r\n                        Auth.authenticateUser(token.data) ;\r\n                        this.opentSuccess(token.message);\r\n                        this.handleSucces(true);\r\n                    }else{ \r\n                        this.opentSuccess(token.message);\r\n                        this.handleSucces(true);\r\n                    }\r\n                }\r\n            }) \r\n        }catch(err){\r\n            throw err\r\n        }\r\n    } \r\n    render(){ \r\n        const {sucess ,showSucess} = this.state;\r\n        return(\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6\"> \r\n                    <ModalV   showSucess={showSucess} handleSucces={this.handleSucces} sucess={sucess} />\r\n                 <form  method='post' encType=\"multipart/form-data\" onSubmit={this.handleSubmit} > \r\n                    <div className=\"form-group\">\r\n                        <label  >Email </label>\r\n                        <input type=\"email\" name=\"email\" className=\"form-control\" onChange={this.handleChange}  /> \r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label  >Password </label>\r\n                        <input name=\"password\" type=\"text\" onChange={this.handleChange} className=\"form-control\"   /> \r\n                    </div>\r\n                    <div className=\"btn-group\">\r\n                        <button type=\"submit\" className=\"btn btn-primary\">Đăng nhập</button> \r\n                    </div>\r\n                </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(LoginPage);"]},"metadata":{},"sourceType":"module"}